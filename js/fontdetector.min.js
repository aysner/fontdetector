fontdetector=function(){function getFontImage(font){var canvas=document.createElement("canvas");canvas.width=w,canvas.height=h;var ctx=canvas.getContext("2d");return ctx.font="20pt "+font,ctx.fillText("_.ABCDEFabcdef",0,20),canvas.toDataURL()}var defaultfonts=["Droid Sans","cursive","Arial","Arial Black","Arial Narrow","Arial Rounded MT Bold","Bookman Old Style","Bradley Hand ITC","Century","Century Gothic","Comic Sans MS","Courier","Courier New","Georgia","Gentium","Impact","Lucida Console","Monotype Corsiva","Times","Times New Roman","Verdana"],w=100,h=20,testresult=!1,testcanvas={};return this.run=function(fonts){for(var fonts=fonts||defaultfonts,nofont_pixel=getFontImage("NotAInstalledFont"),results={},f=0;fonts.length>f;f++)testcanvas=getFontImage(fonts[f]),testresult=testcanvas!=nofont_pixel,results[fonts[f]]=testresult;return results},this}.call({});