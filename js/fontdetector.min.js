fontdetector=function(){function getFontImage(font){var canvas=document.createElement("canvas");canvas.width=w,canvas.height=h;var ctx=canvas.getContext("2d"),pixel={};return ctx.font="20pt "+font,ctx.fillText("_.ABCDEFabcdef",0,20),pixel=ctx.getImageData(0,0,w,h),pixel.data}function compareImages(source,target){for(var s=0;source.length>s;s++)if(source[s]!==target[s])return!0;return!1}var defaultfonts=["Droid Sans","cursive","Arial","Arial Black","Arial Narrow","Arial Rounded MT Bold","Bookman Old Style","Bradley Hand ITC","Century","Century Gothic","Comic Sans MS","Courier","Courier New","Georgia","Gentium","Impact","Lucida Console","Monotype Corsiva","Times","Times New Roman","Verdana"],w=100,h=20,testresult=!1,testcanvas={};return this.run=function(fonts){for(var fonts=fonts||defaultfonts,nofont_pixel=getFontImage("NotAInstalledFont"),results={},f=0;fonts.length>f;f++)testcanvas=getFontImage(fonts[f]),testresult=compareImages(testcanvas,nofont_pixel),results[fonts[f]]=testresult;return results},this}.call({});